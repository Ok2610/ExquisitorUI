<script setup lang="ts">
import { ref, reactive } from 'vue'

interface Props {
    name: string,
    options: []
}
const props = defineProps<Props>()

const active = ref(false)

const rname = reactive({ name: props.name })

function toggle() {
    active.value = !active.value;
}

function away() {
    active.value = false;
}

function selectOption(e: Event) {
    console.log(e);
    rname.name = e.target.innerHTML;
}
</script>

<template>
    <div class="drop">
        <button @click="toggle" v-click-away="away">{{ rname.name }}</button>
        <div class="opts" v-if="active">
            <div class="dropContent" v-for="opt in options" v-if="active" @click="selectOption">
                {{ opt }}
            </div> 
        </div>
    </div>
</template>

<style scoped>
.drop {
    max-height: 10px;
}

button {
    display: inline-block;
    min-width: 150px;
    background: lightgrey;
    border: 0;
    border-radius: 4px;
}

.dropContent {
    position: relative;
    display: block;
    background: var(--color-background);
    text-align: center;
    border-radius: 4px;
    z-index: 2;
}

.dropContent:hover {
    background: rgba(140, 211, 140, 0.856);
    color: black;
}
</style>